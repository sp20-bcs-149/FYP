"use strict";
exports.__esModule = true;
exports.ClerkProvider = void 0;
var tslib_1 = require("tslib");
require("./polyfills");
var clerk_react_1 = require("@clerk/clerk-react");
var react_1 = tslib_1.__importDefault(require("react"));
var cache_1 = require("./cache");
var runtime_1 = require("./runtime");
var singleton_1 = require("./singleton");
(0, clerk_react_1.__internal__setErrorThrowerOptions)({
    packageName: '@clerk/expo'
});
function ClerkProvider(props) {
    var children = props.children, _a = props.tokenCache, tokenCache = _a === void 0 ? cache_1.MemoryTokenCache : _a, frontendApi = props.frontendApi, publishableKey = props.publishableKey, rest = tslib_1.__rest(props, ["children", "tokenCache", "frontendApi", "publishableKey"]);
    var key = publishableKey || process.env.CLERK_PUBLISHABLE_KEY || frontendApi || process.env.CLERK_FRONTEND_API || '';
    return (
    //@ts-expect-error
    react_1["default"].createElement(clerk_react_1.ClerkProvider, tslib_1.__assign({}, rest, { Clerk: (0, singleton_1.buildClerk)({ key: key, tokenCache: tokenCache }), standardBrowser: !(0, runtime_1.isReactNative)() }), children));
}
exports.ClerkProvider = ClerkProvider;
