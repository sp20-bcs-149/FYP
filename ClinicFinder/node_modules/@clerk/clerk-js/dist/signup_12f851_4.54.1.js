"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([[830],{2847:function(e,t,i){i.r(t),i.d(t,{SignUp:function(){return B},SignUpModal:function(){return O}});var r=i(2903),a=i(2784),n=i(3936),o=i(2425),s=i(3476),l=i(3736),d=i(5064),u=i(7158),c=i(7135);const m=e=>{const{handleSubmit:t,fields:i,formState:a,canToggleEmailPhone:n,handleEmailPhoneToggle:o}=e,{showOptionalFields:l}=(0,s.useAppearance)().parsedLayout,u=e=>{var t;return"emailAddress"!==e&&"phoneNumber"!==e||!n?!!i[e]&&(l||(null===(t=i[e])||void 0===t?void 0:t.required)):!!i[e]};return(0,r.BX)(d.Form.Root,{onSubmit:t,children:[(u("firstName")||u("lastName"))&&(0,r.BX)(d.Form.ControlRow,{elementId:"name",children:[u("firstName")&&(0,r.tZ)(d.Form.Control,{...{...a.firstName.props,isRequired:i.firstName.required,isOptional:!i.firstName.required}}),u("lastName")&&(0,r.tZ)(d.Form.Control,{...{...a.lastName.props,isRequired:i.lastName.required,isOptional:!i.lastName.required}})]}),u("username")&&(0,r.tZ)(d.Form.ControlRow,{elementId:"username",children:(0,r.tZ)(d.Form.Control,{...{...a.username.props,isRequired:i.username.required,isOptional:!i.username.required}})}),u("emailAddress")&&(0,r.tZ)(d.Form.ControlRow,{elementId:"emailAddress",children:(0,r.tZ)(d.Form.Control,{...{...a.emailAddress.props,isRequired:i.emailAddress.required,isOptional:!i.emailAddress.required},actionLabel:n?"Use phone instead":void 0,onActionClicked:n?()=>o("phoneNumber"):void 0})}),u("phoneNumber")&&(0,r.tZ)(d.Form.ControlRow,{elementId:"phoneNumber",children:(0,r.tZ)(d.Form.Control,{...{...a.phoneNumber.props,isRequired:i.phoneNumber.required,isOptional:!i.phoneNumber.required},actionLabel:n?"Use email instead":void 0,onActionClicked:n?()=>o("emailAddress"):void 0})}),u("password")&&(0,r.tZ)(d.Form.ControlRow,{elementId:"password",children:(0,r.tZ)(d.Form.Control,{...{...a.password.props,isRequired:i.password.required,isOptional:!i.password.required}})}),(0,r.tZ)(d.Form.SubmitButton,{children:"Continue"})]})};var p=i(2278);const f=["emailAddress","phoneNumber","username","firstName","lastName","password","ticket"];function h(e){return f.reduce(((t,i)=>{const r=function(e,t){switch(e){case"emailAddress":return function({attributes:e,hasTicket:t,hasEmail:i,activeCommIdentifierType:r,isProgressiveSignUp:a}){if(a){if(!(!t||t&&i)||!e.email_address.enabled)return;if(g(e,a)&&"emailAddress"!==r)return;return{required:e.email_address.required,disabled:!!t&&!!i}}if((!t||t&&i)&&e.email_address.enabled&&e.email_address.used_for_first_factor&&"emailAddress"==r)return{required:!0,disabled:!!t&&!!i}}(t);case"phoneNumber":return function({attributes:e,hasTicket:t,activeCommIdentifierType:i,isProgressiveSignUp:r}){if(r){if(!e.phone_number.enabled)return;if(g(e,r)&&"phoneNumber"!==i)return;return{required:e.phone_number.required}}if(!t&&e.phone_number.enabled&&e.phone_number.used_for_first_factor&&"phoneNumber"==i)return{required:!0}}(t);case"password":return function(e){if(e.password.enabled&&e.password.required)return{required:e.password.required}}(t.attributes);case"ticket":return function(e){if(e)return{required:!0}}(t.hasTicket);case"username":case"firstName":case"lastName":return function(e,t){const i=(0,p.a1)(e);if(t[i].enabled)return{required:t[i].required}}(e,t.attributes);default:return}}(i,e);return r&&(t[i]=r),t}),{})}const v=(e,t)=>{if(g(e,t))return"emailAddress";const{email_address:i,phone_number:r}=e;return(i.enabled&&t?i.required:i.used_for_first_factor)?"emailAddress":(r.enabled&&t?r.required:r.used_for_first_factor)?"phoneNumber":null};function g(e,t){const{email_address:i,phone_number:r}=e;return t?i.enabled&&r.enabled&&!i.required&&!r.required:i.used_for_first_factor&&r.used_for_first_factor}var b=i(6874),U=i(7568),y=i(8568);const _=a.memo((e=>{const t=(0,o.useCoreClerk)(),{navigate:i}=(0,l.useRouter)(),a=(0,d.useCardState)(),{displayConfig:n}=(0,U.O)(),s=(0,o.useSignUpContext)(),u=(0,o.useCoreSignUp)(),m=(0,b.w)(s,n.signUpUrl),p=s.afterSignUpUrl||n.afterSignUpUrl,{continueSignUp:f=!1,...h}=e;return(0,r.tZ)(y.L,{...h,oauthCallback:e=>u.authenticateWithRedirect({continueSignUp:f,redirectUrl:m,redirectUrlComplete:p,strategy:e,unsafeMetadata:s.unsafeMetadata}).catch((e=>(0,c.S3)(e,[],a.setError))),web3Callback:()=>t.authenticateWithMetamask({customNavigate:i,redirectUrl:p,signUpContinueUrl:"continue",unsafeMetadata:s.unsafeMetadata}).catch((e=>(0,c.S3)(e,[],a.setError)))})}));var S=i(4781);const C=(0,d.withCardStateProvider)((function(){var e,t,i,n;const p=(0,u.v)(),f=(0,o.useCoreClerk)(),{navigate:b}=(0,l.useRouter)(),{displayConfig:U,userSettings:y}=(0,o.useEnvironment)(),{attributes:C}=y,{navigateAfterSignUp:A,signInUrl:N,unsafeMetadata:F}=(0,o.useSignUpContext)(),E=(0,o.useCoreSignUp)(),w=y.signUp.progressive,[P,k]=a.useState(v(C,y.signUp.progressive));if(!E.id)return b(U.signUpUrl),(0,r.tZ)(d.LoadingCard,{});const Z={firstName:(0,c.Yp)("firstName","",{type:"text",label:(0,s.localizationKeys)("formFieldLabel__firstName"),placeholder:(0,s.localizationKeys)("formFieldInputPlaceholder__firstName")}),lastName:(0,c.Yp)("lastName","",{type:"text",label:(0,s.localizationKeys)("formFieldLabel__lastName"),placeholder:(0,s.localizationKeys)("formFieldInputPlaceholder__lastName")}),emailAddress:(0,c.Yp)("emailAddress","",{type:"email",label:(0,s.localizationKeys)("formFieldLabel__emailAddress"),placeholder:(0,s.localizationKeys)("formFieldInputPlaceholder__emailAddress")}),username:(0,c.Yp)("username","",{type:"text",label:(0,s.localizationKeys)("formFieldLabel__username"),placeholder:(0,s.localizationKeys)("formFieldInputPlaceholder__username")}),phoneNumber:(0,c.Yp)("phoneNumber","",{type:"tel",label:(0,s.localizationKeys)("formFieldLabel__phoneNumber"),placeholder:(0,s.localizationKeys)("formFieldInputPlaceholder__phoneNumber")}),password:(0,c.Yp)("password","",{type:"password",label:(0,s.localizationKeys)("formFieldLabel__password"),placeholder:(0,s.localizationKeys)("formFieldInputPlaceholder__password"),enableErrorAfterBlur:!0,validatePassword:!0})},z=!!Z.emailAddress.value,K="verified"==(null===(t=null===(e=E.verifications)||void 0===e?void 0:e.externalAccount)||void 0===t?void 0:t.status),T="verified"==(null===(n=null===(i=E.verifications)||void 0===i?void 0:i.web3Wallet)||void 0===n?void 0:n.status),I=h({attributes:C,hasEmail:z,activeCommIdentifierType:P,signUp:E,isProgressiveSignUp:w});!function(e,t){var i,r,a,n,o,s,l,d;if(t){const u="verified"==(null===(r=null===(i=t.verifications)||void 0===i?void 0:i.emailAddress)||void 0===r?void 0:r.status),c="verified"==(null===(n=null===(a=t.verifications)||void 0===a?void 0:a.phoneNumber)||void 0===n?void 0:n.status),m="verified"==(null===(s=null===(o=t.verifications)||void 0===o?void 0:o.externalAccount)||void 0===s?void 0:s.status),p="verified"==(null===(d=null===(l=t.verifications)||void 0===l?void 0:l.web3Wallet)||void 0===d?void 0:d.status);u&&delete e.emailAddress,c&&delete e.phoneNumber,(m||p)&&delete e.password,t.firstName&&delete e.firstName,t.lastName&&delete e.lastName,t.username&&delete e.username,Object.entries(e).forEach((([t,i])=>{i&&!i.required&&delete e[t]}))}}(I,E);const L=y.authenticatableSocialStrategies,R=y.web3FirstFactors,q=g(C,w),B=!K&&L.length>0,O=!T&&R.length>0;return(0,r.tZ)(s.Flow.Part,{part:"complete",children:(0,r.BX)(d.Card,{children:[(0,r.tZ)(d.CardAlert,{children:p.error}),(0,r.BX)(d.Header.Root,{children:[(0,r.tZ)(d.Header.Title,{localizationKey:(0,s.localizationKeys)("signUp.continue.title")}),(0,r.tZ)(d.Header.Subtitle,{localizationKey:(0,s.localizationKeys)("signUp.continue.subtitle")})]}),(0,r.tZ)(s.Flex,{direction:"col",elementDescriptor:s.descriptors.main,gap:8,children:(0,r.BX)(d.SocialButtonsReversibleContainerWithDivider,{children:[(B||O)&&(0,r.tZ)(_,{enableOAuthProviders:B,enableWeb3Providers:O}),(0,r.tZ)(m,{handleSubmit:async e=>{var t,i;e.preventDefault();const r=Object.entries(I).reduce(((e,[t,i])=>[...e,...i&&Z[t]?[Z[t]]:[]]),[]);F&&r.push({id:"unsafeMetadata",value:F});const a=!!(null===(t=r.find((e=>"emailAddress"===e.id)))||void 0===t?void 0:t.value),n=!!(null===(i=r.find((e=>"phoneNumber"===e.id)))||void 0===i?void 0:i.value);return E.missingFields.includes("email_address")&&E.missingFields.includes("phone_number")&&!a&&!n&&g(C,w)&&(r.push(Z.emailAddress),r.push(Z.phoneNumber)),p.setLoading(),p.setError(void 0),E.update((0,c.ni)(r)).then((e=>(0,S.v)({signUp:e,verifyEmailPath:"../verify-email-address",verifyPhonePath:"../verify-phone-number",handleComplete:()=>f.setActive({session:e.createdSessionId,beforeEmit:A}),navigate:b}))).catch((e=>(0,c.S3)(e,r,p.setError))).finally((()=>p.setIdle()))},fields:I,formState:Z,canToggleEmailPhone:q,handleEmailPhoneToggle:e=>{g(C,w)&&k(e)}})]})}),(0,r.BX)(d.Footer.Root,{children:[(0,r.BX)(d.Footer.Action,{elementId:"signUp",children:[(0,r.tZ)(d.Footer.ActionText,{localizationKey:(0,s.localizationKeys)("signUp.continue.actionText")}),(0,r.tZ)(d.Footer.ActionLink,{localizationKey:(0,s.localizationKeys)("signUp.continue.actionLink"),to:f.buildUrlWithAuth(N)})]}),(0,r.tZ)(d.Footer.Links,{})]})]})})}));var A=i(8147);const N=(0,A.P5)(A.L);var F=i(9841),E=i(6816),w=i(8251);const P=(0,A.P5)((0,d.withCardStateProvider)((function(){const e=(0,u.v)(),t=(0,o.useCoreClerk)(),i=(0,w._m)(),n=(0,o.useCoreSignUp)(),{showOptionalFields:p}=(0,s.useAppearance)().parsedLayout,{userSettings:f,displayConfig:b}=(0,o.useEnvironment)(),{navigate:U}=(0,l.useRouter)(),{attributes:y}=f,{setActive:C}=(0,o.useCoreClerk)(),N=(0,o.useSignUpContext)(),{navigateAfterSignUp:P,signInUrl:k,unsafeMetadata:Z}=N,[z,K]=a.useState(v(y,f.signUp.progressive)),[T,I]=a.useState(!1),{userSettings:{passwordSettings:L}}=(0,o.useEnvironment)(),{failedValidationsText:R}=(0,w.el)(L),q={firstName:(0,c.Yp)("firstName",n.firstName||"",{type:"text",label:(0,s.localizationKeys)("formFieldLabel__firstName"),placeholder:(0,s.localizationKeys)("formFieldInputPlaceholder__firstName")}),lastName:(0,c.Yp)("lastName",n.lastName||"",{type:"text",label:(0,s.localizationKeys)("formFieldLabel__lastName"),placeholder:(0,s.localizationKeys)("formFieldInputPlaceholder__lastName")}),emailAddress:(0,c.Yp)("emailAddress",n.emailAddress||"",{type:"email",label:(0,s.localizationKeys)("formFieldLabel__emailAddress"),placeholder:(0,s.localizationKeys)("formFieldInputPlaceholder__emailAddress")}),username:(0,c.Yp)("username",n.username||"",{type:"text",label:(0,s.localizationKeys)("formFieldLabel__username"),placeholder:(0,s.localizationKeys)("formFieldInputPlaceholder__username")}),phoneNumber:(0,c.Yp)("phoneNumber",n.phoneNumber||"",{type:"tel",label:(0,s.localizationKeys)("formFieldLabel__phoneNumber"),placeholder:(0,s.localizationKeys)("formFieldInputPlaceholder__phoneNumber")}),password:(0,c.Yp)("password","",{type:"password",label:(0,s.localizationKeys)("formFieldLabel__password"),placeholder:(0,s.localizationKeys)("formFieldInputPlaceholder__password"),enableErrorAfterBlur:!0,informationText:R,validatePassword:!0}),ticket:(0,c.Yp)("ticket",(0,E.XV)("__clerk_ticket")||(0,E.XV)("__clerk_invitation_token")||"")},B=!!q.ticket.value,O=!!q.emailAddress.value,x=f.signUp.progressive,M=h({attributes:y,hasTicket:B,hasEmail:O,activeCommIdentifierType:z,isProgressiveSignUp:x});if(a.useLayoutEffect((()=>{q.ticket.value&&(i.setLoading(),e.setLoading(),n.create({strategy:"ticket",ticket:q.ticket.value}).then((e=>(q.emailAddress.setValue(e.emailAddress||""),"missing_requirements"===e.status&&I(!0),(0,S.v)({signUp:e,verifyEmailPath:"verify-email-address",verifyPhonePath:"verify-phone-number",handleComplete:()=>C({session:e.createdSessionId,beforeEmit:P}),navigate:U})))).catch((t=>{q.ticket.setValue(""),(0,c.S3)(t,[],e.setError)})).finally((()=>{i.setIdle(),e.setIdle()})))}),[]),a.useEffect((()=>{!async function(){const t=n.verifications.externalAccount.error;if(t){switch(t.code){case F.O1.NOT_ALLOWED_TO_SIGN_UP:case F.O1.OAUTH_ACCESS_DENIED:case F.O1.NOT_ALLOWED_ACCESS:case F.O1.SAML_USER_ATTRIBUTE_MISSING:case F.O1.OAUTH_EMAIL_DOMAIN_RESERVED_BY_SAML:e.setError(t.longMessage);break;default:e.setError("Unable to complete action at this time. If the problem persists please contact support.")}await n.create({})}}()}),[]),i.isLoading)return(0,r.tZ)(d.LoadingCard,{});const V=g(y,x),X=Object.entries(M).filter((([e,t])=>p||(null==t?void 0:t.required))),Y=function(e){const{authenticatableSocialStrategies:t,web3FirstFactors:i}=e;return e.hasValidAuthFactor||!t.length&&!i.length}(f)&&X.length>0,W=(!B||T)&&f.authenticatableSocialStrategies.length>0,D=!B&&f.web3FirstFactors.length>0;return(0,r.tZ)(s.Flow.Part,{part:"start",children:(0,r.BX)(d.Card,{children:[(0,r.tZ)(d.CardAlert,{children:e.error}),(0,r.BX)(d.Header.Root,{children:[(0,r.tZ)(d.Header.Title,{localizationKey:(0,s.localizationKeys)("signUp.start.title")}),(0,r.tZ)(d.Header.Subtitle,{localizationKey:(0,s.localizationKeys)("signUp.start.subtitle")})]}),(0,r.tZ)(s.Flex,{direction:"col",elementDescriptor:s.descriptors.main,gap:8,children:(0,r.BX)(d.SocialButtonsReversibleContainerWithDivider,{children:[(W||D)&&(0,r.tZ)(_,{enableOAuthProviders:W,enableWeb3Providers:D,continueSignUp:T}),Y&&(0,r.tZ)(m,{handleSubmit:async t=>{var i,r;t.preventDefault();const a=Object.entries(M).reduce(((e,[t,i])=>[...e,...i&&q[t]?[q[t]]:[]]),[]);if(Z&&a.push({id:"unsafeMetadata",value:Z}),M.ticket){const e=()=>{};a.push({id:"strategy",value:"ticket",setValue:e,onChange:e,setError:e})}const o=!!(null===(i=a.find((e=>"emailAddress"===e.id)))||void 0===i?void 0:i.value),s=!!(null===(r=a.find((e=>"phoneNumber"===e.id)))||void 0===r?void 0:r.value);o||s||!g(y,x)||(a.push(q.emailAddress),a.push(q.phoneNumber)),e.setLoading(),e.setError(void 0);const l=(0,A.wT)(N,b.signUpUrl),d=N.afterSignUpUrl||b.afterSignUpUrl;return n.create((0,c.ni)(a)).then((e=>(0,S.v)({signUp:e,verifyEmailPath:"verify-email-address",verifyPhonePath:"verify-phone-number",handleComplete:()=>C({session:e.createdSessionId,beforeEmit:P}),navigate:U,redirectUrl:l,redirectUrlComplete:d}))).catch((t=>(0,c.S3)(t,a,e.setError))).finally((()=>e.setIdle()))},fields:M,formState:q,canToggleEmailPhone:V,handleEmailPhoneToggle:e=>{g(y,x)&&K(e)}})]})}),(0,r.BX)(d.Footer.Root,{children:[(0,r.BX)(d.Footer.Action,{elementId:"signUp",children:[(0,r.tZ)(d.Footer.ActionText,{localizationKey:(0,s.localizationKeys)("signUp.start.actionText")}),(0,r.tZ)(d.Footer.ActionLink,{localizationKey:(0,s.localizationKeys)("signUp.start.actionLink"),to:t.buildUrlWithAuth(k)})]}),(0,r.tZ)(d.Footer.Links,{})]})]})})}))),k=e=>{const{navigateAfterSignUp:t}=(0,o.useSignUpContext)(),{setActive:i}=(0,o.useCoreClerk)(),{navigate:a}=(0,l.useRouter)();return(0,r.tZ)(d.VerificationCodeCard,{cardTitle:e.cardTitle,cardSubtitle:e.cardSubtitle,formTitle:e.formTitle,formSubtitle:e.formSubtitle,resendButton:e.resendButton,onCodeEntryFinishedAction:(r,n,o)=>{e.attempt(r).then((async e=>(await n(),(0,S.v)({signUp:e,verifyEmailPath:"../verify-email-address",verifyPhonePath:"../verify-phone-number",handleComplete:()=>i({session:e.createdSessionId,beforeEmit:t}),navigate:a})))).catch((e=>o(e)))},onResendCodeClicked:e.prepare,safeIdentifier:e.safeIdentifier,onIdentityPreviewEditClicked:()=>a("../")})},Z=()=>{const e=(0,o.useCoreSignUp)();a.useEffect((()=>{t()}),[]);const t=()=>{const t=e.verifications.emailAddress.status;if(e.status&&"verified"!==t)return e.prepareEmailAddressVerification({strategy:"email_code"})};return(0,r.tZ)(s.Flow.Part,{part:"emailCode",children:(0,r.tZ)(k,{cardTitle:(0,s.localizationKeys)("signUp.emailCode.title"),cardSubtitle:(0,s.localizationKeys)("signUp.emailCode.subtitle"),formTitle:(0,s.localizationKeys)("signUp.emailCode.formTitle"),formSubtitle:(0,s.localizationKeys)("signUp.emailCode.formSubtitle"),resendButton:(0,s.localizationKeys)("signUp.emailCode.resendButton"),prepare:t,attempt:t=>e.attemptEmailAddressVerification({code:t}),safeIdentifier:e.emailAddress})})};var z=i(5712);const K=()=>{const e=(0,o.useCoreSignUp)(),t=(0,o.useSignUpContext)(),{navigateAfterSignUp:i}=t,n=(0,u.v)(),{displayConfig:m}=(0,o.useEnvironment)(),{navigate:p}=(0,l.useRouter)(),{setActive:f}=(0,o.useCoreClerk)(),[h,v]=a.useState(!1),{startMagicLinkFlow:g,cancelMagicLinkFlow:U}=(0,z.j)(e);a.useEffect((()=>{y()}),[]);const y=()=>g({redirectUrl:(0,b.V)(t,m.signUpUrl)}).then((e=>_(e))).catch((e=>{(0,c.S3)(e,[],n.setError)})),_=async e=>{const t=e.verifications.emailAddress;"expired"===t.status?n.setError("The verification link expired. Please resend it."):t.verifiedFromTheSameClient()?v(!0):await(0,S.v)({signUp:e,verifyEmailPath:"../verify-email-address",verifyPhonePath:"../verify-phone-number",handleComplete:()=>f({session:e.createdSessionId,beforeEmit:i}),navigate:p})};return h?(0,r.tZ)(A.Ej,{title:(0,s.localizationKeys)("signUp.emailLink.verifiedSwitchTab.title"),subtitle:(0,s.localizationKeys)("signUp.emailLink.verifiedSwitchTab.subtitleNewTab"),status:"verified_switch_tab"}):(0,r.tZ)(s.Flow.Part,{part:"emailLink",children:(0,r.tZ)(d.VerificationLinkCard,{cardTitle:(0,s.localizationKeys)("signUp.emailLink.title"),cardSubtitle:(0,s.localizationKeys)("signUp.emailLink.subtitle"),formTitle:(0,s.localizationKeys)("signUp.emailLink.formTitle"),formSubtitle:(0,s.localizationKeys)("signUp.emailLink.formSubtitle"),resendButton:(0,s.localizationKeys)("signUp.emailLink.resendButton"),onResendCodeClicked:()=>{U(),y()},safeIdentifier:e.emailAddress})})},T=(0,d.withCardStateProvider)((()=>{const{userSettings:e}=(0,o.useEnvironment)(),t=(0,o.useCoreSignUp)(),i=(0,l.useRouter)(),{attributes:n}=e;return(0,a.useEffect)((()=>{t.emailAddress||i.navigate("../")}),[]),n.email_address.verifications.includes("email_link")?(0,r.tZ)(K,{}):(0,r.tZ)(Z,{})})),I=(0,d.withCardStateProvider)((()=>{const e=(0,o.useCoreSignUp)();a.useEffect((()=>{t()}),[]);const t=()=>{const t=e.verifications.phoneNumber.status;if(e.status&&"verified"!==t)return e.preparePhoneNumberVerification({strategy:"phone_code"})};return(0,r.tZ)(s.Flow.Part,{part:"phoneCode",children:(0,r.tZ)(k,{cardTitle:(0,s.localizationKeys)("signUp.phoneCode.title"),cardSubtitle:(0,s.localizationKeys)("signUp.phoneCode.subtitle"),formTitle:(0,s.localizationKeys)("signUp.phoneCode.formTitle"),formSubtitle:(0,s.localizationKeys)("signUp.phoneCode.formSubtitle"),resendButton:(0,s.localizationKeys)("signUp.phoneCode.resendButton"),prepare:t,attempt:t=>e.attemptPhoneNumberVerification({code:t}),safeIdentifier:e.phoneNumber})})})),L=()=>{const e=(0,o.useCoreSignUp)(),t=(0,l.useRouter)();return(0,a.useEffect)((()=>{e.phoneNumber||t.navigate("../")}),[]),(0,r.tZ)(I,{})};function R(){const e=(0,o.useCoreClerk)();return a.useEffect((()=>{e.redirectToSignUp()}),[]),null}function q(){const e=(0,o.useSignUpContext)();return(0,r.tZ)(s.Flow.Root,{flow:"signUp",children:(0,r.BX)(l.Switch,{children:[(0,r.tZ)(l.Route,{path:"verify-email-address",children:(0,r.tZ)(T,{})}),(0,r.tZ)(l.Route,{path:"verify-phone-number",children:(0,r.tZ)(L,{})}),(0,r.tZ)(l.Route,{path:"sso-callback",children:(0,r.tZ)(N,{afterSignUpUrl:e.afterSignUpUrl,afterSignInUrl:e.afterSignInUrl,redirectUrl:e.redirectUrl,secondFactorUrl:e.secondFactorUrl,continueSignUpUrl:"../continue"})}),(0,r.tZ)(l.Route,{path:"verify",children:(0,r.tZ)(n.$,{redirectUrlComplete:e.afterSignUpUrl||e.redirectUrl||void 0,verifyEmailPath:"../verify-email-address",verifyPhonePath:"../verify-phone-number"})}),(0,r.tZ)(l.Route,{path:"continue",children:(0,r.tZ)(C,{})}),(0,r.tZ)(l.Route,{index:!0,children:(0,r.tZ)(P,{})}),(0,r.tZ)(l.Route,{children:(0,r.tZ)(R,{})})]})})}q.displayName="SignUp";const B=(0,o.withCoreSessionSwitchGuard)(q),O=e=>{const t={signInUrl:`/${l.VIRTUAL_ROUTER_BASE_PATH}/sign-in`,...e};return(0,r.tZ)(l.Route,{path:"sign-up",children:(0,r.tZ)(o.ComponentContext.Provider,{value:{componentName:"SignUp",...t,routing:"virtual"},children:(0,r.tZ)("div",{children:(0,r.tZ)(B,{...t,routing:"virtual"})})})})}},4781:function(e,t,i){i.d(t,{v:function(){return r}});const r=({signUp:e,verifyEmailPath:t,verifyPhonePath:i,navigate:r,handleComplete:a,redirectUrl:n="",redirectUrlComplete:o=""})=>{var s,l;if("complete"===e.status)return a&&a();if("missing_requirements"===e.status){if(e.missingFields.some((e=>"saml"===e)))return e.authenticateWithRedirect({strategy:"saml",redirectUrl:n,redirectUrlComplete:o,continueSignUp:!0});if((null===(s=e.unverifiedFields)||void 0===s?void 0:s.includes("email_address"))&&t)return r(t);if((null===(l=e.unverifiedFields)||void 0===l?void 0:l.includes("phone_number"))&&i)return r(i)}}}}]);